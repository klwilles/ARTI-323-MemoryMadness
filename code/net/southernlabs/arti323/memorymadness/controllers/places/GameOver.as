package net.southernlabs.arti323.memorymadness.controllers.places {		import flash.display.MovieClip;	import net.southernlabs.arti323.memorymadness.config.GameConfig;	import net.southernlabs.arti323.memorymadness.controllers.base.MenuInterface;	import net.southernlabs.arti323.memorymadness.views.Preloader;		import flash.net.URLRequest;	import flash.display.Loader;	import flash.events.Event;	import flash.events.ProgressEvent;	import flash.display.Stage;	import com.inruntime.utils.Global;		public class GameOver extends MovieClip implements MenuInterface {				private var c:MovieClip;		private var $:Global = Global.getInstance();		var mLoader:Loader = new Loader();		var mRequest:URLRequest = new URLRequest(GameConfig.SWF_PATH+"GameOver.swf");		public function GameOver() {			// constructor code			trace("loading game over place");		}				public function handleMenuClick(item:String):void {					}				public function setRenderContainer(m:MovieClip):void {			c = m;		}				public function run():void {			$.addEventListener(GameConfig.EVENT_ON_PLAY_GAME, handlePlay);			$.preloader.setLocation(GameConfig.PLACE_GAMEOVER);			mLoader.contentLoaderInfo.addEventListener(Event.COMPLETE, onCompleteHandler);			mLoader.contentLoaderInfo.addEventListener(ProgressEvent.PROGRESS, onPreload);			mLoader.load(mRequest);		}				public function onPreload(e:ProgressEvent){			var percent:uint = Math.floor((e.bytesLoaded/e.bytesTotal)*100)			$.preloader.setProgress(percent);			trace(percent);		}				function onCompleteHandler(loadEvent:Event) {        	trace("gameover completely loaded");			$.addEventListener(GameConfig.EVENT_ON_GAMEOVER_LOADED, handleFinalLoading);			c.visible = false; // delay        	c.addChild(loadEvent.currentTarget.content);		}		public function handleFinalLoading(e:Event){			c.visible = true; // now show it		}				public function end():void {			// delete stuff in container			trace("playing this thing again");			$.removeEventListener(GameConfig.EVENT_ON_PLAY_GAME, handlePlay);			//preloader.end();			mLoader.contentLoaderInfo.removeEventListener(Event.COMPLETE, onCompleteHandler);			mLoader.contentLoaderInfo.removeEventListener(ProgressEvent.PROGRESS, onPreload);			while( c.numChildren > 0 ){				c.removeChildAt(0);			}			$.router.goto("level-01");					}				function handlePlay(e:Event){			end();		}			}	}